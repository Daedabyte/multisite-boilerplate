---
/**
 * Homepage
 *
 * Demonstrates the boilerplate's component system with config-driven
 * sections populated from typed content data.
 */

import DefaultLayout from '@layouts/DefaultLayout.astro';

// Hero variants
import HeroStandard from '@components/layout/heroes/HeroStandard.astro';

// Images
import backgroundImg from '@assets/images/background.png';

// Features variants
import FeaturesGrid from '@components/sections/features/FeaturesGrid.astro';

// CTA variants
import CTABanner from '@components/sections/cta/CTABanner.astro';

// UI components
import Section from '@components/layout/Section.astro';

// ===================================
// Page Content
// ===================================

const hero = {
  title: 'Build Better Websites, Faster',
  subtitle: 'A flexible, configuration-driven boilerplate for rapid website development.',
  size: 'partial' as const,
  alignment: 'center' as const,
  actions: [
    {
      label: 'Get Started',
      href: '/contact',
      variant: 'primary' as const,
    },
    {
      label: 'Learn More',
      href: '/about',
      variant: 'secondary' as const,
      outline: true,
    },
  ],
};

const features = {
  heading: 'Why Choose Us',
  subheading: 'Everything you need to launch your website quickly and professionally.',
  columns: 3 as const,
  items: [
    {
      title: 'Fast Development',
      description: 'Launch your site in days, not weeks. Our boilerplate handles the heavy lifting.',
      icon: 'fa-solid fa-rocket',
    },
    {
      title: 'Fully Customizable',
      description: 'Every component is configurable. Adapt the design to match your brand.',
      icon: 'fa-solid fa-palette',
    },
    {
      title: 'SEO Optimized',
      description: 'Built-in best practices for search engine optimization and performance.',
      icon: 'fa-solid fa-magnifying-glass',
    },
    {
      title: 'Mobile First',
      description: 'Responsive design that looks great on any device, from phones to desktops.',
      icon: 'fa-solid fa-mobile-screen',
    },
    {
      title: 'Accessible',
      description: 'WCAG compliant components ensure your site is usable by everyone.',
      icon: 'fa-solid fa-universal-access',
    },
    {
      title: 'Modern Stack',
      description: 'Built with Astro, TypeScript, and SCSS for a robust development experience.',
      icon: 'fa-solid fa-code',
    },
  ],
};

const about = {
  heading: 'About Our Company',
  content: `We're passionate about creating high-quality websites that help businesses succeed online.

With years of experience in web development, we've refined our process to deliver exceptional results efficiently. Our boilerplate represents the culmination of best practices and lessons learned from countless projects.`,
  cta: {
    label: 'Learn More About Us',
    href: '/about',
    variant: 'primary' as const,
  },
};

const testimonials = {
  heading: 'What Our Clients Say',
  subheading: "Don't just take our word for it.",
  items: [
    {
      quote: 'Working with this team was an absolute pleasure. They delivered our website on time and exceeded our expectations.',
      author: 'Jane Smith',
      title: 'CEO',
      company: 'Tech Startup Inc.',
      rating: 5,
    },
    {
      quote: 'The attention to detail and code quality is outstanding. Our site loads faster than ever.',
      author: 'John Doe',
      title: 'Marketing Director',
      company: 'Growth Agency',
      rating: 5,
    },
    {
      quote: 'Finally, a development team that understands both design and performance. Highly recommended!',
      author: 'Sarah Johnson',
      title: 'Founder',
      company: 'Creative Studio',
      rating: 5,
    },
  ],
};

const stats = {
  heading: 'Our Track Record',
  items: [
    {
      value: '100+',
      label: 'Projects Completed',
      description: 'Websites launched and maintained',
    },
    {
      value: '50+',
      label: 'Happy Clients',
      description: "Businesses we've helped grow",
    },
    {
      value: '99%',
      label: 'Satisfaction Rate',
      description: 'Client satisfaction score',
    },
    {
      value: '24/7',
      label: 'Support',
      description: "We're always here to help",
    },
  ],
};

const faq = {
  heading: 'Frequently Asked Questions',
  subheading: "Got questions? We've got answers.",
  items: [
    {
      question: 'How long does it take to build a website?',
      answer: 'Depending on the complexity, most websites can be completed within 1-3 weeks. Our boilerplate approach allows us to deliver high-quality sites faster than traditional development.',
    },
    {
      question: 'Do you provide ongoing maintenance?',
      answer: 'Yes! We offer various maintenance packages to keep your site secure, updated, and performing optimally.',
    },
    {
      question: 'Can I update the content myself?',
      answer: 'Absolutely. Our sites are built with content management in mind, making it easy for you to update text, images, and other content.',
    },
    {
      question: 'What technologies do you use?',
      answer: 'We use modern technologies like Astro, TypeScript, and SCSS to build fast, maintainable websites that scale with your business.',
    },
  ],
};

const cta = {
  heading: 'Ready to Get Started?',
  description: "Let's build something great together. Contact us today for a free consultation.",
  actions: [
    {
      label: 'Contact Us',
      href: '/contact',
      variant: 'primary' as const,
    },
    {
      label: 'View Documentation',
      href: '/docs',
      variant: 'secondary' as const,
      outline: true,
    },
  ],
};
---

<DefaultLayout
  title="Home - Multisite Boilerplate"
  description="A flexible, variant-based Astro boilerplate for rapid website development."
>
  <!-- Hero Section -->
  <HeroStandard
    title={hero.title}
    subtitle={hero.subtitle}
    actions={hero.actions}
    size={hero.size}
    alignment={hero.alignment}
    backgroundImage={backgroundImg.src}
  />

  <!-- Features Section -->
  <FeaturesGrid
    heading={features.heading}
    subheading={features.subheading}
    features={features.items}
    columns={features.columns}
  />

  <!-- Stats Section -->
  <Section id="stats" classList="section--dark" container={{ size: 'xl' }}>
    <div class="stats-grid">
      {stats.items.map((stat) => (
        <div class="stat-item" data-reveal="fade-up">
          <span
            class="stat-value"
            data-counter
            data-counter-target={stat.value.replace(/\D/g, '')}
            data-counter-suffix={stat.value.replace(/[0-9]/g, '')}
          >
            0
          </span>
          <span class="stat-label">{stat.label}</span>
          {stat.description && <span class="stat-description">{stat.description}</span>}
        </div>
      ))}
    </div>
  </Section>

  <!-- About Section -->
  <Section id="about" container={{ size: 'medium' }}>
    <div class="about-content" data-reveal="fade-up">
      <h2>{about.heading}</h2>
      <p>{about.content}</p>
      <a href={about.cta.href} class={`btn btn--${about.cta.variant}`}>
        {about.cta.label}
      </a>
    </div>
  </Section>

  <!-- Testimonials Section -->
  <Section id="testimonials" classList="section--alt" container={{ size: 'xl' }}>
    <h2>{testimonials.heading}</h2>
    <p class="section-subtitle">{testimonials.subheading}</p>

    <div class="testimonials-grid" data-stagger data-stagger-delay="100">
      {testimonials.items.map((testimonial) => (
        <div class="testimonial-card">
          {testimonial.rating && (
            <div class="testimonial-rating">
              {Array(testimonial.rating).fill(null).map(() => (
                <i class="fa-solid fa-star"></i>
              ))}
            </div>
          )}
          <blockquote class="testimonial-quote">"{testimonial.quote}"</blockquote>
          <div class="testimonial-author">
            <strong>{testimonial.author}</strong>
            {testimonial.title && <span>{testimonial.title}</span>}
            {testimonial.company && <span>{testimonial.company}</span>}
          </div>
        </div>
      ))}
    </div>
  </Section>

  <!-- FAQ Section -->
  <Section id="faq" container={{ size: 'medium' }}>
    <h2>{faq.heading}</h2>
    <p class="section-subtitle">{faq.subheading}</p>

    <div class="faq-container" data-accordion data-accordion-multiple="false">
      {faq.items.map((item, index) => (
        <div class="faq-item" data-accordion-item>
          <button
            class="faq-trigger"
            data-accordion-trigger
            aria-expanded={index === 0 ? 'true' : 'false'}
          >
            <span>{item.question}</span>
          </button>
          <div class="faq-content" data-accordion-content data-accordion-open={index === 0 ? 'true' : undefined}>
            <p>{item.answer}</p>
          </div>
        </div>
      ))}
    </div>
  </Section>

  <!-- CTA Section -->
  <CTABanner
    heading={cta.heading}
    description={cta.description}
    actions={cta.actions}
  />
</DefaultLayout>

<style lang="scss" is:global>
  @use '../styles/abstracts' as *;

  // Stats Section
  .section--dark {
    background-color: var(--color-neutral-900);
    color: var(--color-white);
  }

  .section--alt {
    background-color: var(--color-neutral-100);
  }

  .stats-grid {
    display: grid;
    gap: var(--space-8);
    text-align: center;

    @include media-up('sm') {
      grid-template-columns: repeat(2, 1fr);
    }

    @include media-up('lg') {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .stat-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .stat-value {
    font-size: var(--font-size-xxxl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
  }

  .stat-label {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
  }

  .stat-description {
    font-size: var(--font-size-sm);
    color: var(--color-neutral-400);
  }

  // About Section
  .about-content {
    max-width: 40rem;
    margin-inline: auto;
    text-align: center;

    h2 {
      font-size: var(--font-size-xxl);
      margin-bottom: var(--space-4);
    }

    p {
      font-size: var(--font-size-lg);
      color: var(--color-neutral-600);
      margin-bottom: var(--space-6);
      white-space: pre-line;
    }
  }

  // Section subtitle
  .section-subtitle {
    font-size: var(--font-size-lg);
    color: var(--color-neutral-600);
    max-width: 40rem;
    margin-inline: auto;
    margin-bottom: var(--space-12);
  }

  // Testimonials
  .testimonials-grid {
    display: grid;
    gap: var(--space-6);
    text-align: left;
    margin-top: var(--space-8);

    @include media-up('md') {
      grid-template-columns: repeat(2, 1fr);
    }

    @include media-up('lg') {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .testimonial-card {
    background: var(--color-white);
    padding: var(--space-6);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-base);
  }

  .testimonial-rating {
    color: var(--color-warning);
    margin-bottom: var(--space-3);
  }

  .testimonial-quote {
    font-size: var(--font-size-base);
    font-style: italic;
    color: var(--color-neutral-700);
    margin: 0 0 var(--space-4);
    padding: 0;
    border: none;
    background: none;
  }

  .testimonial-author {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    font-size: var(--font-size-sm);

    strong {
      color: var(--color-black);
    }

    span {
      color: var(--color-neutral-500);
    }
  }

  // FAQ
  .faq-container {
    max-width: 48rem;
    margin-inline: auto;
    text-align: left;
  }
</style>
