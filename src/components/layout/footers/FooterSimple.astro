---
/**
 * FooterSimple
 *
 * Single-row minimal footer with logo, links, and copyright.
 * Clean, compact footer for minimal sites.
 *
 * @variant simple
 * @since 1.0.0
 *
 * Best for: Landing pages, portfolios, minimal sites
 * Avoid when: Need extensive footer navigation
 *
 * @example
 * <FooterSimple
 *   logo={{ src: logoImg, alt: 'Company' }}
 *   links={[{ href: '/privacy', label: 'Privacy' }]}
 * />
 */

import type { FooterBaseProps } from './types';
import Container from '@components/layout/Container.astro';
import { Image } from 'astro:assets';
import { config } from '@data/config';
import logoIcon from '@assets/images/logo_icon.png';

/**
 * Simple footer variant props
 */
interface Props extends FooterBaseProps {
  /** Quick links in single row */
  links?: Array<{
    href: string;
    label: string;
    external?: boolean;
  }>;
}

const {
  logo,
  description,
  copyright,
  links = [],
  container,
  classList,
  ...attrs
} = Astro.props;

const currentYear = new Date().getFullYear();
const copyrightText = copyright ?? `Â© ${currentYear} ${config.siteName}`;
---

<footer class:list={['footer', 'footer--simple', classList]} role="contentinfo" {...attrs}>
  <Container {...container}>
    <div class="footer__inner">
      <div class="footer__brand">
        <a href={logo?.href ?? '/'} class="footer__logo-link" aria-label="Home">
          {logo?.src && typeof logo.src !== 'string' ? (
            <Image
              src={logo.src}
              alt={logo.alt}
              width={logo.width ?? 80}
              height={logo.height ?? 30}
              class="footer__logo"
              loading="lazy"
            />
          ) : logo?.src && typeof logo.src === 'string' ? (
            <img
              src={logo.src}
              alt={logo.alt}
              width={logo.width ?? 80}
              height={logo.height ?? 30}
              class="footer__logo"
              loading="lazy"
            />
          ) : (
            <Image
              src={logoIcon}
              alt="Site Logo"
              width={30}
              height={30}
              class="footer__logo"
              loading="lazy"
            />
          )}
        </a>
        <p class="footer__copyright">{copyrightText}</p>
      </div>

      {links.length > 0 && (
        <ul class="footer__links">
          {links.map((link) => (
            <li>
              <a
                href={link.href}
                class="footer__link"
                {...link.external ? { target: '_blank', rel: 'noopener noreferrer' } : {}}
              >
                {link.label}
              </a>
            </li>
          ))}
        </ul>
      )}
    </div>
  </Container>
</footer>

<style lang="scss" is:global>
  @use './footers.scss';
</style>

<style lang="scss">
  // Variant: Simple (single row)
  .footer--simple {
    .footer__inner {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-4);
      padding-block: var(--space-6);
    }

    .footer__links {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-4);
      list-style: none;
      margin: 0;
      padding: 0;

      li {
        margin: 0;
      }
    }

    .footer__brand {
      display: flex;
      align-items: center;
      gap: var(--space-4);
    }

    .footer__logo {
      margin-bottom: 0;
    }

    .footer__logo-link {
      display: flex;
      align-items: center;
    }
  }
</style>
