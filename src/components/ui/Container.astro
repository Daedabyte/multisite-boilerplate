---
/**
 * Container
 *
 * Responsive container component with configurable max-width.
 * Provides consistent horizontal padding and centering.
 *
 * @since 1.0.0
 *
 * Best for: Wrapping page content, sections
 * Avoid when: Need full-bleed content
 *
 * @example
 * <Container size="large">Content here</Container>
 * <Container as="article" size="medium">Article content</Container>
 * <Container padding={false}>Full-bleed content</Container>
 */

import type { ContainerProps } from '@types';

interface Props extends ContainerProps {}

const {
  size = 'full',
  padding = true,
  as: Tag = 'div',
  class: className,
  classList,
  ...attrs
} = Astro.props;

const classes = [
  'container',
  `container--${size}`,
  !padding && 'container--no-padding',
  className,
  classList,
].filter(Boolean).join(' ');
---

<Tag class={classes} {...attrs}>
  <slot />
</Tag>

<style lang="scss" is:global>
  @use "../../styles/abstracts" as *;

  // Containers
  @mixin container($size: "large") {
    width: 100%;
    margin-inline: auto;
    padding-inline: var(--space-4);
    max-width: var(--container-max-width-#{$size});

    @include media-up("md") {
      padding-inline: var(--space-6);
    }
  }

  .container {
    @include container();
  }

  @each $size, $width in $container-max-widths {
    .container--#{$size} {
      @include container($size);
    }
  }

  .container--no-padding {
    padding-inline: 0;
  }
</style>
