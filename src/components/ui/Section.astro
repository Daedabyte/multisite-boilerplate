---
/**
 * Section
 *
 * Page section wrapper with built-in container and consistent spacing.
 * Provides semantic section element with accessibility attributes.
 *
 * @since 1.0.0
 *
 * Best for: Page sections, content blocks
 * Avoid when: Need custom container configuration
 *
 * @example
 * <Section id="features">Features content here</Section>
 * <Section id="about" container={{ size: 'medium' }}>About content</Section>
 * <Section id="hero" container={{ padding: false }}>Full-bleed content</Section>
 */

import type { SectionProps } from '@types';
import Container from './Container.astro';

interface Props extends SectionProps {}

const {
  id,
  container,
  background = 'default',
  spacing = 'medium',
  class: className,
  classList,
  ...attrs
} = Astro.props;

const classes = [
  'section',
  background !== 'default' && `section--bg-${background}`,
  spacing !== 'medium' && `section--spacing-${spacing}`,
  className,
  classList,
].filter(Boolean).join(' ');
---

<section id={id} class={classes} {...attrs}>
  <Container {...container}>
    <slot />
  </Container>
</section>

<style lang="scss" is:global>
  @use 'sass:map';
  @use '../../styles/abstracts' as *;

  .section {
    padding: var(--space-16) 0;
    position: relative;

    @include media-up('md') {
      padding: var(--space-20) 0;
    }

    // Spacing variants
    &--spacing-none {
      padding: 0;
    }

    &--spacing-small {
      padding: var(--space-8) 0;

      @include media-up('md') {
        padding: var(--space-12) 0;
      }
    }

    &--spacing-large {
      padding: var(--space-20) 0;

      @include media-up('md') {
        padding: var(--space-24) 0;
      }
    }

    // Background variants
    &--bg-alt {
      background-color: var(--color-neutral-50);
    }

    &--bg-dark {
      background-color: var(--color-neutral-900);
      color: var(--color-white);
    }

    &--bg-primary {
      background-color: var(--color-primary);
      color: var(--color-white);
    }

    &--bg-gradient {
      background: linear-gradient(
        135deg,
        var(--color-primary) 0%,
        var(--color-secondary) 100%
      );
      color: var(--color-white);
    }
  }
</style>
